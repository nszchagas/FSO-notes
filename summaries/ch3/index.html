
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../ch2/">
      
      
        <link rel="next" href="../ch4/">
      
      <link rel="icon" href="../../_static/icon.png">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.18">
    
    
      
        <title>Chapter 3 - Fundamentos de Sistemas Operacionais</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#processes" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Fundamentos de Sistemas Operacionais" class="md-header__button md-logo" aria-label="Fundamentos de Sistemas Operacionais" data-md-component="logo">
      
  <img src="../../_static/icon.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Fundamentos de Sistemas Operacionais
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Chapter 3
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="blue-grey" data-md-color-accent="indigo"  aria-label="Dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="deep-purple" data-md-color-accent="indigo"  aria-label="Light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/nszchagas/FSO-notes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    FSO-notes
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Fundamentos de Sistemas Operacionais" class="md-nav__button md-logo" aria-label="Fundamentos de Sistemas Operacionais" data-md-component="logo">
      
  <img src="../../_static/icon.png" alt="logo">

    </a>
    Fundamentos de Sistemas Operacionais
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/nszchagas/FSO-notes" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    FSO-notes
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        About
      </a>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" checked>
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          SILBERSCHATZ
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          SILBERSCHATZ
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ch1/" class="md-nav__link">
        Chapter 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ch2/" class="md-nav__link">
        Chapter 2
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Chapter 3
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Chapter 3
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#process-concept" class="md-nav__link">
    Process Concept
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-scheduling" class="md-nav__link">
    Process Scheduling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operations-on-processes" class="md-nav__link">
    Operations on Processes
  </a>
  
    <nav class="md-nav" aria-label="Operations on Processes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#process-creation" class="md-nav__link">
    Process Creation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-termination" class="md-nav__link">
    Process Termination
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interprocess-communication" class="md-nav__link">
    Interprocess Communication
  </a>
  
    <nav class="md-nav" aria-label="Interprocess Communication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shared-memory-systems" class="md-nav__link">
    Shared-Memory Systems
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-passing-systems" class="md-nav__link">
    Message-Passing Systems
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ch4/" class="md-nav__link">
        Chapter 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ch5/" class="md-nav__link">
        Chapter 5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ch9/" class="md-nav__link">
        Chapter 9
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          TANENBAUM
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          TANENBAUM
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resumos/mod1/" class="md-nav__link">
        M贸dulo 1
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resumos/mod2/" class="md-nav__link">
        Processos
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resumos/mod3/" class="md-nav__link">
        M贸dulo 3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resumos/mod4/" class="md-nav__link">
        M贸dulo 4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../resumos/mod5/" class="md-nav__link">
        M贸dulo 5
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#process-concept" class="md-nav__link">
    Process Concept
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#process-scheduling" class="md-nav__link">
    Process Scheduling
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operations-on-processes" class="md-nav__link">
    Operations on Processes
  </a>
  
    <nav class="md-nav" aria-label="Operations on Processes">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#process-creation" class="md-nav__link">
    Process Creation
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#process-termination" class="md-nav__link">
    Process Termination
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#interprocess-communication" class="md-nav__link">
    Interprocess Communication
  </a>
  
    <nav class="md-nav" aria-label="Interprocess Communication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#shared-memory-systems" class="md-nav__link">
    Shared-Memory Systems
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#message-passing-systems" class="md-nav__link">
    Message-Passing Systems
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#references" class="md-nav__link">
    References
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  

  
  


<h1 id="processes">Processes</h1>
<p>Early computers allowed only one program to be executed at a time, and it had complete control of the system and access to all system's resources. Nowadays computer systems allow multiple programs to be loaded into memory and executed simultaneously. These changes resulted in the notion of <strong>process</strong>, which is a program in execution. A system consists of a collection of processes, either operating system processes executing system code and user processes executing user code. All theses processes can execute concurrently with the CPU (or CPUs) <strong>multiplexed</strong> between them, which makes the computer more productive.</p>
<h2 id="process-concept">Process Concept</h2>
<p>A batch system executes <strong>jobs</strong>, whereas a time-shared system has <strong>user programs</strong> or <strong>tasks</strong>. These activities are called <strong>processes</strong>.</p>
<p>A process is a program in execution, and its more than the program code (<strong>text section</strong>), as it includes the current activity (<strong>program counter</strong>) and the content of the processor's registers. It also includes temporary data (stored in the <strong>stack</strong>), global variables (<strong>data section</strong>) and may include a dynamically allocated memory, the <strong>heap</strong>. This structure is illustrated in Figure 1.</p>
<p><center>
<img alt="Figure 1: The process structure in memory. Source: [1]" src="../assets/ch3/2022-12-03-09-38-59.png" />
</center></p>
<div style="text-align: center">
<p>Figure 1: The process structure in memory. Source: [1]</p>
</div>

<p>A program is simply a <strong>passive</strong> entity, often called a <strong>executable file</strong>. A process is a <strong>active</strong> entity, with a program counter specifying the next instruction to be executed and a set of resources. A program by itself isn't a process until its running, i. e., a program becomes a process when it's loaded into memory.</p>
<p>During execution, a process changes its <strong>state</strong>, which is defined partly by its current activity. A process state may be one of the represented in Table 1, the state name can change among operating systems.</p>
<table>
<thead>
<tr>
<th align="center">State</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="center">New</td>
<td align="left">The process is being created</td>
</tr>
<tr>
<td align="center">Running</td>
<td align="left">Its instructions are being executed</td>
</tr>
<tr>
<td align="center">Waiting</td>
<td align="left">The process's waiting for some event, such as I/O completion</td>
</tr>
<tr>
<td align="center">Ready</td>
<td align="left">The process's waiting to be assigned to a processor</td>
</tr>
<tr>
<td align="center">Terminated</td>
<td align="left">The process has finished execution</td>
</tr>
</tbody>
</table>
<div style="text-align: center">
<p>Table 1: Process states. Source: [1]</p>
</div>

<blockquote>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z"/></svg></span> Only <strong>one</strong> process can be running at any processor at any time, but many processes may be ready and waiting. The Figure 2 represents the relationship between the different process states.</p>
</blockquote>
<p><center>
<img alt="Figure 2: Diagram of process state." src="../assets/ch3/2022-12-03-10-19-49.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 2: Diagram of process state. Source: [1]
</p>
</div>

<p>Each process is represented in the operating system by a <strong>process control block (PCB)</strong>, also called <strong>task control block</strong>, represented in the Figure 3. It contains information about the process state, the next instruction to be executed for this process (program counter), the state of the CPU registers (Figure 4), CPU-scheduling information about priority, scheduling parameters and memory management information, such as base and limit registers and page tables, accounting information and I/O status information.</p>
<p><center>
<img alt="Figure 3: The PCB structure" src="../assets/ch3/2022-12-03-09-59-37.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 3: The PCB structure. Source: [1]
</p>
</div>

<p><center>
<img alt="Figure 4: CPU switch between processes." src="../assets/ch3/2022-12-03-10-29-44.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 4: CPU switch between processes. Source: [1]
</p>
</div>

<blockquote>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z"/></svg></span> Most modern operating system allow a process to have multiple <strong>threads</strong> of execution and execute more than one task at a time. In a multicore system, multiple threads can run in parallel.</p>
</blockquote>
<h2 id="process-scheduling">Process Scheduling</h2>
<p>The objective of multiprogramming is having some process running at all times, to maximize CPU utilization. The objective of time sharing it to switch the CPU among processes so frequently that users can interact with each program while it's running. The <strong>process scheduler</strong> selects an available process to execute on the CPU, in a single processor system, there'll be only one process running at a time.</p>
<p>When a process enter the system, it joins the <strong>job queue</strong>, those which are ready and waiting to execute are kept in a list called <strong>ready queue</strong>, which is usually a linked list containing the PCB of each process and a pointer to the next process in line. The <strong>device queue</strong> order processes waiting for a particular I/O, and each device has its own device queue (Figure 5).</p>
<p><center>
<img alt="Figure 5: Diagram of queueing of processes" src="../assets/ch3/2022-12-03-10-36-34.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 5: Diagram of queueing of processes. Source: [1]
</p>
</div>

<p>A process migrate between scheduling queues during its lifetime, and the operating system select process from these queues through the appropriate <strong>scheduler</strong>. Often, in a batch system, more processes are submitted that can be executed immediately, so these processes are spooled to a mass-storage decide and kept for later execution. The <strong>long-term scheduler</strong> (or <strong>job scheduler</strong>) selects processes from this pool and loads them into memory. The <strong>short-term scheduler</strong> (or <strong>CPU scheduler</strong>) select among the processes that are ready and allocate the CPU to one of them. The long-term scheduler controls the <strong>degree of multiprogramming</strong>, which is the number of processes in memory.</p>
<p>In general, most processes are either <strong>I/O bound</strong> or <strong>CPU bound</strong>, the first kind spends more time doing I/O than it spends computing, and for the later the opposite is true. A better performance lays in the long-term scheduler balancing its choices between I/O bound and CPU bound processes.</p>
<p>Some operating systems have an intermediate level of scheduling, the <strong>medium-term scheduler</strong> (Figure 6), that removes processes from memory and reinserts them after a while (<strong>swapping</strong>). Swapping may be necessary according to lack of resources.</p>
<p><center>
<img alt="Figure 6: Addition of medium-term scheduler in the queueing diagram." src="../assets/ch3/2022-12-03-15-19-32.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 6: Addition of medium-term scheduler in the queueing diagram. Source: [1]
</p>
</div>

<p>When an interrupt occurs, the system needs to save the <strong>context</strong> of the process running on the CPU so it can be resumed later, and the information is stored in the PCB of the process. The operations of saving and restoring this data are called, respectively, <strong>state save</strong> and <strong>state restore</strong>. A <strong>context switch</strong> is the operation of switching CPU between processes, it requires saving the state of the current process and restoring the state of the next process to execute.</p>
<h2 id="operations-on-processes">Operations on Processes</h2>
<h3 id="process-creation">Process Creation</h3>
<p>During its execution, a (parent) process may create several child processes, which can also create child processes, creating a <strong>tree</strong> (Figure 7) of processes. In most operating systems, processes are identified by a unique <strong>process identifier (pid)</strong>, usually an integer number.</p>
<p><center>
<img alt="Figure 7: a tree of processes on a typical Linux system" src="../assets/ch3/ch3_15_49_23.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 7: a tree of processes on a typical Linux system. Source: [1]
</p>
</div>

<ul>
<li>The <code>init</code> process (pid = 1) serves as the root parent process for all user processes.</li>
<li>The <code>kthreadd</code> process is responsible for creating additional processes that perform tasks on behalf of the kernel.</li>
<li>The <code>sshd</code> process is responsible for managing clients that connect to the system by using ssh.</li>
</ul>
<p>On UNIX and Linux systems the processes can be listed using the <code>ps</code> command.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>ps<span class="w"> </span>-el
</code></pre></div>
<p>When a process creates a child, it may have to share resources and data with it. Besides that, there are two possible scenarios of execution:</p>
<ol>
<li>The parent continues to execute concurrently with its children;</li>
<li>The parent waits until some or all of its children have terminated;</li>
</ol>
<p>And two scenarios regarding address-space:</p>
<ol>
<li>The child process is a duplicate of the parent process (it has the same program and data as the parent);</li>
<li>The child process has a new program loaded into it;</li>
</ol>
<p>The system call <code>fork()</code> creates a new process, which is a copy of the address space of the original process. Both processes, parent and child, continue executing after the <code>fork()</code>.</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/types.h&gt;</span>
<a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>
<a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>
<a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a><span class="kt">pid_t</span><span class="w"> </span><span class="nf">fork</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</code></pre></div>
<p>The return code of <code>fork()</code> is zero in the child process, and the PID of the child process in the parent. In case of error, -1 is returned in the parent and no child process is created, which is illustrated by the code snippet 1 and its output (Figure 8). After a fork system call, one of the two processes uses the <code>exec()</code> system call to replace the process's memory space with a new program.</p>
<blockquote>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z"/></svg></span> The <code>exec()</code> system call loads a binary file into memory (destroying the memory image of the program containing the exec system call) and starts its execution. The parent process can then create more children or simply <code>wait()</code> to move itself off the ready queue until the child terminates (Figure 9).</p>
</blockquote>
<div class="highlight"><pre><span></span><code><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;sys/types.h&gt;</span>
<a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;stdio.h&gt;</span>
<a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a><span class="cp">#include</span><span class="w"> </span><span class="cpf">&lt;unistd.h&gt;</span>
<a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>
<a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a><span class="kt">int</span><span class="w"> </span><span class="nf">main</span><span class="p">()</span>
<a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a><span class="p">{</span>
<a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>
<a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a><span class="w">    </span><span class="kt">pid_t</span><span class="w"> </span><span class="n">pid</span><span class="p">;</span>
<a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
<a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a><span class="w">    </span><span class="n">pid</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">fork</span><span class="p">();</span>
<a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>
<a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a><span class="w">    </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pid</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a><span class="w">        </span><span class="n">fprintf</span><span class="p">(</span><span class="n">stderr</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;Fork Failed&quot;</span><span class="p">);</span>
<a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a><span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span>
<a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a><span class="w">    </span><span class="k">else</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="n">pid</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="mi">0</span><span class="p">)</span>
<a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">Executing child!</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
<a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a><span class="w">        </span><span class="n">execlp</span><span class="p">(</span><span class="s">&quot;/bin/ps&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-l&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span><span class="w"> </span><span class="c1">// Executes the /bin/ps file with the arguments: &quot;-l NULL&quot;</span>
<a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>
<a id="__codelineno-2-22" name="__codelineno-2-22" href="#__codelineno-2-22"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-23" name="__codelineno-2-23" href="#__codelineno-2-23"></a><span class="w">    </span><span class="k">else</span>
<a id="__codelineno-2-24" name="__codelineno-2-24" href="#__codelineno-2-24"></a><span class="w">    </span><span class="p">{</span>
<a id="__codelineno-2-25" name="__codelineno-2-25" href="#__codelineno-2-25"></a><span class="w">        </span><span class="n">wait</span><span class="p">(</span><span class="nb">NULL</span><span class="p">);</span><span class="w"> </span><span class="c1">// Waits for the termination of the child process.</span>
<a id="__codelineno-2-26" name="__codelineno-2-26" href="#__codelineno-2-26"></a><span class="w">        </span><span class="n">printf</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\t</span><span class="s">Child PID was: %d and its now terminated.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="w"> </span><span class="n">pid</span><span class="p">);</span>
<a id="__codelineno-2-27" name="__codelineno-2-27" href="#__codelineno-2-27"></a><span class="w">        </span><span class="n">execlp</span><span class="p">(</span><span class="s">&quot;/bin/ps&quot;</span><span class="p">,</span><span class="w"> </span><span class="s">&quot;-l&quot;</span><span class="p">,</span><span class="w"> </span><span class="nb">NULL</span><span class="p">);</span>
<a id="__codelineno-2-28" name="__codelineno-2-28" href="#__codelineno-2-28"></a><span class="w">    </span><span class="p">}</span>
<a id="__codelineno-2-29" name="__codelineno-2-29" href="#__codelineno-2-29"></a>
<a id="__codelineno-2-30" name="__codelineno-2-30" href="#__codelineno-2-30"></a><span class="w">    </span><span class="k">return</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span>
<a id="__codelineno-2-31" name="__codelineno-2-31" href="#__codelineno-2-31"></a><span class="p">}</span>
</code></pre></div>
<div style="text-align: center">
<p>
Code snippet 1: Demonstration of the fork system call. Source: [1]
</p>
</div>

<p><center>
<img alt="Figure 8: Output of the code snippet 1." src="../assets/ch3/ch3_16_23_31.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 8: Output of the code snippet. Source: author.
</p>
</div>

<p><center>
<img alt="Figure 9: Process creation using the fork system call." src="../assets/ch3/ch3_17_05_07.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 9: Process creation using the fork system call. Source: [1]
</p>
</div>

<h3 id="process-termination">Process Termination</h3>
<p>A process terminates when it finishes executing its final statement and asks the operating system to delete it by the exit() system call. The process may return a status value to its parent via the wait system call. All the resources of the process are deallocated by the OS. Processes can also terminate via an appropriated system call, which usually can only be invoked by its parent process.</p>
<p>Some systems don't allow child processes to keep running after its parent has been terminated, this phenomenon is called <strong>cascading termination</strong>, and normally initiated by the operating system.</p>
<blockquote>
<p><span class="twemoji"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 9h2V7h-2m1 13c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8m0-18A10 10 0 0 0 2 12a10 10 0 0 0 10 10 10 10 0 0 0 10-10A10 10 0 0 0 12 2m-1 15h2v-6h-2v6Z"/></svg></span> In Linux and UNIX system a process can be terminated by the <code>exit()</code> system call, that can be invoked directly or by a <code>return</code> statement in <code>main()</code>.</p>
</blockquote>
<p>A parent can wait for the termination of a child process using the <code>wait()</code> system call. This system call can receive a parameter to obtain the exit status of the child and it returns the pid of the terminated child. When a process terminate its entry in the process table must remain there until the parent calls <code>wait()</code>, because the process table contains the process's exit status. During the period of time when a process is terminated but its parent hasn't yet called <code>wait()</code>, a process is in a <strong>zombie</strong> state.</p>
<p>If a process terminated without invoking wait, it would leave its child processes as <strong>orphans</strong>. Linux and UNIX solve this problem assigning the <code>init</code> process as the new parent for orphan processes. The init process periodically invokes wait, collecting the exit status of the orphan processes and releasing them from the process table.</p>
<h2 id="interprocess-communication">Interprocess Communication</h2>
<p>Processes executing concurrently may be either independent of cooperating processes. <strong>Independent</strong> processes cannot affect or be affected by the other processes executing, any process that doesn't share data with other processes is independent. A process is <strong>cooperating</strong> if it can affect or be affected by other processes, clearly processes that share data area cooperating processes. Cooperation can be useful for <strong>information sharing</strong>, <strong>computation speedup</strong>, <strong>modularity</strong> and <strong>convenience</strong>.</p>
<p>Cooperating processes require an <strong>interprocess communication (IPC)</strong> mechanism, and there are two fundamental models of IPC: <strong>shared memory</strong> and <strong>message passing</strong>. In the first, a region of memory is shared between processes and they can share information by reading and writing in this region. In the later, communication takes place by means of messages exchanged between the cooperating processes. Most systems implement both models, message passing is preferred when smaller amounts of data are shared, but shared memory can be faster than message passing.</p>
<p><center>
<img alt="Figure 10: Interprocess communication models: message passing (a) and shared memory (b)." src="../assets/ch3/ch3_17_48_39.png" />
</center></p>
<div style="text-align: center">
<p>
Figure 10: Interprocess communication models: message passing (a) and shared memory (b). Source: [1]
</p>
</div>

<h3 id="shared-memory-systems">Shared-Memory Systems</h3>
<p>The shared-memory region usually resides in the address space of the process creating it. The processes that wish to communicate using this segment must attach it to their address space. Usually processes aren't allowed to access each others memory, so this model of communication requires that one or more processes agree to remove this restriction. The data then can be shared by writing and reading in the shared area, and the operating system doesn't control how the communication flows, so it's up to the processes assuring that there's no simultaneously writing to the same location.</p>
<h3 id="message-passing-systems">Message-Passing Systems</h3>
<p>Message passing allow processes to communicate and synchronize their actions without sharing the same address space. If two processes want to communicate through messages, a <strong>communication link</strong> must exist between them. The link and send/receive operations can be implemented, among other ways, using:</p>
<ul>
<li>Direct or indirect communication</li>
<li>Synchronous or asynchronous communication</li>
<li>Automatic or explicit buffering</li>
</ul>
<p>Processes that want to communicate must have a way of referring to each other, by means of direct or indirect communication. Under <strong>direct communication</strong> each process must explicitly name the recipient or sender of the communication. In this case, the send and receive operations are defined as:</p>
<div class="highlight"><pre><span></span><code><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a><span class="n">send</span><span class="p">(</span><span class="n">P</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">);</span><span class="w"> </span><span class="c1">// Send a message to process P</span>
<a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a><span class="n">receive</span><span class="p">(</span><span class="n">Q</span><span class="p">,</span><span class="w"> </span><span class="n">message</span><span class="p">);</span><span class="w"> </span><span class="c1">// Receive a message from process Q</span>
</code></pre></div>
<p>A communication link, in this scheme, has the following properties:</p>
<ul>
<li>A link is established automatically between every pair of processes, who need to know only each other's identity to communicate.</li>
<li>A link associates exactly two processes.</li>
<li>Between each pair of processes exists exactly one link.</li>
</ul>
<h2 id="references">References</h2>
<p>[1] SILBERSCHATZ A., GALVIN P., GAGNE G. Operating System Concepts, 9th Edition.</p>





                
              </article>
            </div>
          
          
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      2022 Nicolas Souza
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../..", "features": ["content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.74e28a9f.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../../assets/javascripts/bundle.220ee61c.min.js"></script>
      
        
          <script src="../../js/mathjax.js"></script>
        
      
        
          <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
        
      
        
          <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        
      
    
  </body>
</html>